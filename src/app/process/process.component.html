
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
    <div class="nav">
        <button (click)="navPrev()">
            <p class="navButtonFont">
                <i class="fa fa-home"></i>
            </p>
        </button>
    </div>
    
    <div class="container-fluid">
        <div class="grid-container">
            <div class="sidenav">
                <div class="subtitle">
                    <p>
                        Unallocated Processes
                    </p>
                </div>
                <hr />
                <div #svgabandoned id="svgabandoned" class="abandoned">
                </div>
            </div>
            <div class="processContainer">
                <div class="container">
                    <div class="row">
                        <mat-toolbar>
                            <mat-toolbar-row>
                                <button (click)="addProcessNodeEvent()" class="processButtons">
                                    Add process
                                </button>
                                <button (click)="deleteProcessNodeEvent()" class="processButtons">
                                    Delete process
                                </button>
                                <button id="editButton" *ngIf="!isEdit" class="processButtons" (click)="editMode()">
                                    Edit Mode
                                </button>
                                <button id="editButton" *ngIf="isEdit" class="processButtons viewButton" (click)="editMode()">
                                    Edit Mode
                                </button>
                                <button class="processButtons" (click)="zoomIn()">
                                    Zoom in
                                </button>
                                <button class="processButtons" (click)="zoomOut()">
                                    Zoom out
                                </button>
                                <button class="processButtons doneButton" (click)="navNext()">
                                    Done
                                </button>
                            </mat-toolbar-row>  
                        </mat-toolbar>
                    </div>
                    <div class="row">
                        <div id="processcontainer" #processcontainer class="processcontainer" (dblclick)="onDblClick()" (window:resize)="onResize($event)">
                            <div class="containerHeader">
                                <div id="{{'lifestage' + i }}" #containerHeader class="box-header" *ngFor="let lifeStage of this.project.lifeCycleStages; let i = index" [attr.data-index]="i">
                                    {{lifeStage}}
                                </div>
                            </div>
                            <div #svg id="svg" class="processBoxContainer">
                            </div>
                        </div>
                    </div>
                    
                </div>

            </div>
            <div class="sidenav">
                <div class="subtitle">
                    <p>
                        Details
                    </p>
                </div>
                <hr />
                <div *ngIf="currentlySelectedNode != null" class="processNameDiv" id="processNameDiv">
                    <p>Process name</p>
                    <input *ngIf="currentlySelectedNode != null" [(ngModel)]="currentlySelectedNode.processName" autocomplete="off" type="text" name="processName" class="material-input" (change)="saveAndClearDetails(); updateRelations(); getDetails()" />
                </div>
                <div class="processBoxDetailsContainer" id="processBoxDetailsContainer" *ngIf="currentlySelectedNode != null">
                    <div class="detailBoxHeader">
                        {{processName}}
                    </div>
                    <div class="detailBoxHeader">
                        {{allocationRule}}
                    </div>
                    
                    <div class="tab-content">
                        <div class="buttonContainer">
                            <div class="containerHeader" *ngIf="!isCurrentProcessSource()">
                                <div class="menuHeader">
                                    Input
                                </div>
                            </div>
                            <div class="containerHeader" *ngIf="!isCurrentProcessSource()" role="tablist">
                                <div class="menuTabs" *ngFor="let tab of inputMenuBar; let first = first;" [ngClass]="{firstItem: first}" role="presentation" [class.active]="selectedwallet===wallet">
                                    <button *ngIf="tab == selectedTab" class="menuButtons selectedMenuButton" (click)="changeTab(tab)" aria-controls="materialInputContainer" role="tab" data-toggle="tab">{{tab}}</button>
                                    <button *ngIf="tab != selectedTab" class="menuButtons" (click)="changeTab(tab)" aria-controls="materialInputContainer" role="tab" data-toggle="tab">{{tab}}</button>
                                </div>
                            </div>
                            <div class="containerHeader" *ngIf="isCurrentProcessSource()">
                                <div class="menuHeader disabledMenuHeader">
                                    Input
                                </div>
                            </div>
                            <div class="containerHeader" *ngIf="isCurrentProcessSource()" role="tablist">
                                <div class="menuTabs" *ngFor="let tab of inputMenuBar">
                                    <button class="menuButtons disabledMenuButtons" >{{tab}}</button>
                                </div>
                            </div>
                            <div class="containerHeader">
                                <div class="menuHeader">
                                    Output
                                </div>
                            </div>
                            <div class="containerHeader" role="tablist">
                                <div class="menuTabs" *ngFor="let tab of outputMenuBar; let first = first;" [ngClass]="{firstItem: first}" role="presentation" [class.active]="selectedwallet===wallet">
                                    <button *ngIf="tab == selectedTab" class="menuButtons selectedMenuButton" (click)="changeTab(tab)" aria-controls="materialInputContainer" role="tab" data-toggle="tab">{{tab}}</button>
                                    <button *ngIf="tab != selectedTab" class="menuButtons" (click)="changeTab(tab)" aria-controls="materialInputContainer" role="tab" data-toggle="tab">{{tab}}</button>
                                </div>
                            </div>
                            <div>
                                <div class="row source-container">
                                    <div class="col-md-8">Is source process?</div>
                                    <div class="col-md-2">
                                        <input id="sourceCheck" type="checkbox" value="isSource" (change)="setSourceProcess()" />
                                    </div>
                                    <div class="col-md-2"></div>
                                </div>
                                <div class="add-container">
                                    <div class="row">
                                        <div class="col-md-5 update-relations-container">
                                            <!--<button type="button" class="btn btn-sq-xs btn-collapse" (click)="saveAndClearDetails(); updateRelations(); getDetails()">
                                                    Update links
                                                </button>-->
                                        </div>
                                        <div class="col-md-2">
                                            <button type="button" class="btn btn-sq-xs btn-add" (click)="addDetail(selectedTab)">
                                                <i class="fa fa-plus fa-1x"></i><br />
                                            </button>
                                        </div>
                                        <div class="col-md-5 collapse-all-container">
                                            <button *ngIf="!areAllCollapsed(selectedTab)" type="button" class="btn btn-sq-xs btn-collapse" (click)="collapseAll(selectedTab)">
                                                Collapse all
                                            </button>
                                            <button *ngIf="areAllCollapsed(selectedTab)" type="button" class="btn btn-sq-xs btn-collapse" (click)="expandAll(selectedTab)">
                                                Expand all
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div *ngIf="selectedTab === inputMenuBar[0]" role="tabpanel" class="tab-pane active" id="materialInputContainer">
                            <div *ngIf="materialList.length == 0" class="empty-text">
                                There are currently no material inputs. <br /> Click the button
                                <button type="button" class="btn btn-sq-xs btn-add" (click)="addDetail(selectedTab)">
                                    <i class="fa fa-plus fa-1x"></i><br />
                                </button> above to add one.
                            </div>
                            <form [formGroup]="materialForm" id="materialInputForm">
                                <div formArrayName="inputs">
                                    <div class="input-output" *ngFor="let input of materialList.controls; let i = index;">
                                        <div [formGroupName]="i">
                                            <div *ngIf="!input.value.isCollapsed">
                                                <div class="odd-color">
                                                    <strong>Material Name</strong>
                                                    <input autocomplete="off" type="text" formControlName="materialName" class="material-input" (change)="saveAndClearDetails(); updateRelations(); getDetails()" />
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            From process
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.from.toString()}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Quantity
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="quantity" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Unit
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="unit" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="m3">m3</option>
                                                                <option value="number">number</option>
                                                                <option value="kg">kg</option>
                                                                <option value="kWh">kWh</option>
                                                                <option value="litre">litre</option>
                                                                <option value="MJ">MJ</option>
                                                                <option value="hours">hours</option>
                                                                <option value="tkm">tkm</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Carbon Storage
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="carbonStorage" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Activity Data Origin
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="activityDataOrigin" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Emission Factor Value
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="emissionFactorData" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Emission Factor Source
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="emissionFactorSource" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="odd-color">
                                                    <div>
                                                        Remarks
                                                        <input autocomplete="off" type="text" formControlName="remarks" class="material-input" (change)="saveAndClearDetails()" />
                                                    </div>
                                                </div>
                                                <div class="add-container">
                                                    <button type="button" class="btn btn-sq-xs btn-delete" (click)="deleteDetail(selectedTab, i)">
                                                        <i class="fa fa-trash fa-1x"></i><br />
                                                    </button>
                                                </div>
                                                <div class="collapse-container" (click)="collapseDetail(selectedTab, i)">
                                                    &#9650;
                                                </div>
                                            </div>
                                            <div *ngIf="input.value.isCollapsed">
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-4 input-field">
                                                            <strong>Material Name</strong>
                                                        </div>
                                                        <div class="col-md-8 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.materialName}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-4 input-field">
                                                            From process
                                                        </div>
                                                        <div class="col-md-8 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.from.toString()}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="collapse-container" (click)="expandDetail(selectedTab, i)">
                                                    &#9660;
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div *ngIf="selectedTab === inputMenuBar[1]" role="tabpanel" class="tab-pane active" id="energyInputContainer">
                            <div *ngIf="energyList.length == 0" class="empty-text">
                                There are currently no energy inputs. <br /> Click the button
                                <button type="button" class="btn btn-sq-xs btn-add" (click)="addDetail(selectedTab)">
                                    <i class="fa fa-plus fa-1x"></i><br />
                                </button> above to add one.
                            </div>
                            <form [formGroup]="energyForm" id="energyInputForm">
                                <div formArrayName="inputs">
                                    <div class="input-output" *ngFor="let input of energyList.controls; let i = index;">
                                        <div [formGroupName]="i">
                                            <div *ngIf="!input.value.isCollapsed">
                                                <div class="odd-color">
                                                    <strong>Equipment Name</strong>
                                                    <input autocomplete="off" type="text" formControlName="equipmentName" class="material-input" (change)="saveAndClearDetails()" />
                                                </div>
                                                <div class="even-color">
                                                    Energy Type
                                                    <input autocomplete="off" type="text" formControlName="energyType" class="material-input" (change)="saveAndClearDetails()" />
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Process Time
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="processTime" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Rating
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="rating" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Quantity
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="quantity" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Unit
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="unit" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="m3">m3</option>
                                                                <option value="number">number</option>
                                                                <option value="kg">kg</option>
                                                                <option value="kWh">kWh</option>
                                                                <option value="litre">litre</option>
                                                                <option value="MJ">MJ</option>
                                                                <option value="hours">hours</option>
                                                                <option value="tkm">tkm</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Activity Data Origin
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="activityDataOrigin" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Emission Factor Value
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="emissionFactorData" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Emission Factor Source
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="emissionFactorSource" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="even-color">
                                                    <div>
                                                        Remarks
                                                        <input autocomplete="off" type="text" formControlName="remarks" class="material-input" (change)="saveAndClearDetails()" />
                                                    </div>
                                                </div>
                                                <div class="add-container">
                                                    <button type="button" class="btn btn-sq-xs btn-delete" (click)="deleteDetail(selectedTab, i)">
                                                        <i class="fa fa-trash fa-1x"></i><br />
                                                    </button>
                                                </div>
                                                <div class="collapse-container" (click)="collapseDetail(selectedTab, i)">
                                                    &#9650;
                                                </div>
                                            </div>
                                            <div *ngIf="input.value.isCollapsed">
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-4 input-field">
                                                            <strong>Energy Type</strong>
                                                        </div>
                                                        <div class="col-md-8 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.energyType}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="collapse-container" (click)="expandDetail(selectedTab, i)">
                                                    &#9660;
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div *ngIf="selectedTab === inputMenuBar[2]" role="tabpanel" class="tab-pane active" id="transportationInputContainer">
                            <div *ngIf="transportList.length == 0" class="empty-text">
                                There are currently no transportation inputs. <br /> Click the button
                                <button type="button" class="btn btn-sq-xs btn-add" (click)="addDetail(selectedTab)">
                                    <i class="fa fa-plus fa-1x"></i><br />
                                </button> above to add one.
                            </div>
                            <form [formGroup]="transportForm" id="transportationInputForm">
                                <div formArrayName="inputs">
                                    <div class="input-output" *ngFor="let input of transportList.controls; let i = index;">
                                        <div [formGroupName]="i">
                                            <div *ngIf="!input.value.isCollapsed">
                                                <div class="odd-color">
                                                    <strong>Transportation Type</strong>
                                                    <input autocomplete="off" type="text" formControlName="transportationType" class="material-input" (change)="saveAndClearDetails()" />
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Quantity
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="quantity" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Unit
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="unit" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="m3">m3</option>
                                                                <option value="number">number</option>
                                                                <option value="kg">kg</option>
                                                                <option value="kWh">kWh</option>
                                                                <option value="litre">litre</option>
                                                                <option value="MJ">MJ</option>
                                                                <option value="hours">hours</option>
                                                                <option value="tkm">tkm</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Activity Data Origin
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="activityDataOrigin" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="even-color">
                                                    <div>
                                                        Remarks
                                                        <input autocomplete="off" type="text" formControlName="remarks" class="material-input" (change)="saveAndClearDetails()" />
                                                    </div>
                                                </div>
                                                <div class="add-container">
                                                    <button type="button" class="btn btn-sq-xs btn-delete" (click)="deleteDetail(selectedTab, i)">
                                                        <i class="fa fa-trash fa-1x"></i><br />
                                                    </button>
                                                </div>
                                                <div class="collapse-container" (click)="collapseDetail(selectedTab, i)">
                                                    &#9650;
                                                </div>
                                            </div>
                                            <div *ngIf="input.value.isCollapsed">
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-5 input-field">
                                                            <strong>Transportation Type</strong>
                                                        </div>
                                                        <div class="col-md-7 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.transportationType}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="collapse-container" (click)="expandDetail(selectedTab, i)">
                                                    &#9660;
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div *ngIf="selectedTab === outputMenuBar[0]" role="tabpanel" class="tab-pane active" id="outputContainer">
                            <div *ngIf="outputList.length == 0" class="empty-text">
                                There are currently no outputs. <br /> Click the button
                                <button type="button" class="btn btn-sq-xs btn-add" (click)="addDetail(selectedTab)">
                                    <i class="fa fa-plus fa-1x"></i><br />
                                </button> above to add one.
                            </div>
                            <form [formGroup]="outputForm" id="outputForm">
                                <div formArrayName="inputs">
                                    <div class="input-output" *ngFor="let input of outputList.controls; let i = index;">
                                        <div [formGroupName]="i">
                                            <div *ngIf="!input.value.isCollapsed">
                                                <div class="odd-color">
                                                    <strong>Output Name</strong>
                                                    <input autocomplete="off" type="text" formControlName="outputName" class="material-input" (change)="saveAndClearDetails(); updateRelations(); getDetails()" />
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            To process
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.to.toString()}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Functional Unit
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="functionalUnit" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="true">true</option>
                                                                <option value="false">false</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Quantity
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="quantity" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Unit
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="unit" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="m3">m3</option>
                                                                <option value="number">number</option>
                                                                <option value="kg">kg</option>
                                                                <option value="kWh">kWh</option>
                                                                <option value="litre">litre</option>
                                                                <option value="MJ">MJ</option>
                                                                <option value="hours">hours</option>
                                                                <option value="tkm">tkm</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Activity Data Origin
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="activityDataOrigin" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="odd-color">
                                                    <div>
                                                        Remarks
                                                        <input autocomplete="off" type="text" formControlName="remarks" class="material-input" (change)="saveAndClearDetails()" />
                                                    </div>
                                                </div>
                                                <div class="add-container">
                                                    <button type="button" class="btn btn-sq-xs btn-delete" (click)="deleteDetail(selectedTab, i)">
                                                        <i class="fa fa-trash fa-1x"></i><br />
                                                    </button>
                                                </div>
                                                <div class="collapse-container" (click)="collapseDetail(selectedTab, i)">
                                                    &#9650;
                                                </div>
                                            </div>
                                            <div *ngIf="input.value.isCollapsed">
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-4 input-field">
                                                            <strong>Output Name</strong>
                                                        </div>
                                                        <div class="col-md-8 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.outputName}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-4 input-field">
                                                            To Process
                                                        </div>
                                                        <div class="col-md-8 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.to.toString()}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="collapse-container" (click)="expandDetail(selectedTab, i)">
                                                    &#9660;
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div *ngIf="selectedTab === outputMenuBar[1]" role="tabpanel" class="tab-pane active" id="byproductContainer">
                            <div *ngIf="byproductList.length == 0" class="empty-text">
                                There are currently no byproducts. <br /> Click the button
                                <button type="button" class="btn btn-sq-xs btn-add" (click)="addDetail(selectedTab)">
                                    <i class="fa fa-plus fa-1x"></i><br />
                                </button> above to add one.
                            </div>
                            <form [formGroup]="byproductForm" id="byproductForm">
                                <div formArrayName="inputs">
                                    <div class="input-output" *ngFor="let input of byproductList.controls; let i = index;">
                                        <div [formGroupName]="i">
                                            <div *ngIf="!input.value.isCollapsed">
                                                <div class="odd-color">
                                                    <strong>Byproduct Name</strong>
                                                    <input autocomplete="off" type="text" formControlName="byproductName" class="material-input" (change)="saveAndClearDetails()" />
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Co-product
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="coproduct" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="true">true</option>
                                                                <option value="false">false</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Waste
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="waste" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="true">true</option>
                                                                <option value="false">false</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Quantity
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="quantity" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Unit
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="unit" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="m3">m3</option>
                                                                <option value="number">number</option>
                                                                <option value="kg">kg</option>
                                                                <option value="kWh">kWh</option>
                                                                <option value="litre">litre</option>
                                                                <option value="MJ">MJ</option>
                                                                <option value="hours">hours</option>
                                                                <option value="tkm">tkm</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Activity Data Origin
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="activityDataOrigin" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Downstream Option
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="downstreamOption" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="even-color">
                                                    <div>
                                                        Remarks
                                                        <input autocomplete="off" type="text" formControlName="remarks" class="material-input" (change)="saveAndClearDetails()" />
                                                    </div>
                                                </div>
                                                <div class="add-container">
                                                    <button type="button" class="btn btn-sq-xs btn-delete" (click)="deleteDetail(selectedTab, i)">
                                                        <i class="fa fa-trash fa-1x"></i><br />
                                                    </button>
                                                </div>
                                                <div class="collapse-container" (click)="collapseDetail(selectedTab, i)">
                                                    &#9650;
                                                </div>
                                            </div>
                                            <div *ngIf="input.value.isCollapsed">
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-5 input-field">
                                                            <strong>Byproduct Name</strong>
                                                        </div>
                                                        <div class="col-md-7 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.byproductName}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="collapse-container" (click)="expandDetail(selectedTab, i)">
                                                    &#9660;
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div *ngIf="selectedTab === outputMenuBar[2]" role="tabpanel" class="tab-pane active" id="otherEmissionsContainer">
                            <div *ngIf="emissionList.length == 0" class="empty-text">
                                There are currently no other direct emissions. <br /> Click the button
                                <button type="button" class="btn btn-sq-xs btn-add" (click)="addDetail(selectedTab)">
                                    <i class="fa fa-plus fa-1x"></i><br />
                                </button> above to add one.
                            </div>
                            <form [formGroup]="emissionForm" id="emissionList">
                                <div formArrayName="inputs">
                                    <div class="input-output" *ngFor="let input of emissionList.controls; let i = index;">
                                        <div [formGroupName]="i">
                                            <div *ngIf="!input.value.isCollapsed">
                                                <div class="odd-color">
                                                    <strong>Emission Type</strong>
                                                    <input autocomplete="off" type="text" formControlName="emissionType" class="material-input" (change)="saveAndClearDetails()" />
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Quantity
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="number" formControlName="quantity" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>

                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Unit
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <select formControlName="unit" class="material-input smaller-input" (change)="saveAndClearDetails()">
                                                                <option value="m3">m3</option>
                                                                <option value="number">number</option>
                                                                <option value="kg">kg</option>
                                                                <option value="kWh">kWh</option>
                                                                <option value="litre">litre</option>
                                                                <option value="MJ">MJ</option>
                                                                <option value="hours">hours</option>
                                                                <option value="tkm">tkm</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="container even-color">
                                                    <div class="row">
                                                        <div class="col-md-6 input-field">
                                                            Activity Data Origin
                                                        </div>
                                                        <div class="col-md-6 vcenter">
                                                            <input autocomplete="off" type="text" formControlName="activityDataOrigin" class="material-input smaller-input" (change)="saveAndClearDetails()" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="odd-color">
                                                    <div>
                                                        Remarks
                                                        <input autocomplete="off" type="text" formControlName="remarks" class="material-input" (change)="saveAndClearDetails()" />
                                                    </div>
                                                </div>
                                                <div class="add-container">
                                                    <button type="button" class="btn btn-sq-xs btn-delete" (click)="deleteDetail(selectedTab, i)">
                                                        <i class="fa fa-trash fa-1x"></i><br />
                                                    </button>
                                                </div>
                                                <div class="collapse-container" (click)="collapseDetail(selectedTab, i)">
                                                    &#9650;
                                                </div>
                                            </div>
                                            <div *ngIf="input.value.isCollapsed">
                                                <div class="container odd-color">
                                                    <div class="row">
                                                        <div class="col-md-4 input-field">
                                                            <strong>Emission Type</strong>
                                                        </div>
                                                        <div class="col-md-8 vcenter">
                                                            <input disabled class="material-input smaller-input" value="{{input.value.emissionType}}" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="collapse-container" (click)="expandDetail(selectedTab, i)">
                                                    &#9660;
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div *ngIf="selectedTab === inputMenuBar[6]" role="tabpanel" class="tab-pane active" id="otherEmissionsContainer">
                            <input autocomplete="off" id="name" value="{{currentlySelectedNodeName}}" />
                        </div>
                        <div id="processNameContainer">
                            <p>
                                Process Name
                            </p>
                            <input autocomplete="off" id="name" value="{{currentlySelectedNodeName}}" />
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
